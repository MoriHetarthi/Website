<!doctype html>

<html lang="en">
<head>
  <meta charset="UTF-8">

  <title>AJAX 3</title>
  <meta name="description" content="The HTML5 Herald">
  <meta name="author" content="SitePoint">
  <link rel = "stylesheet" href="style.css">

</head>

<body>
<br>
<br>
  <button id="btn">Load github users</button>
<br>
<br>
<h1>Github Users</h1>
<div id="users"></div>

<script>
document.getElementById("btn").addEventListener('click',load);

function load(){
    var xhr = new XMLHttpRequest();
    xhr.open('GET','https://api.github.com/users',true);

    xhr.onload = function(){
        if(this.status==200){
            var user = JSON.parse(this.responseText);
            var output='';

            for(var i in user){
                output+= '<div class="user">'+
                '<img src="'+user[i].avatar_url+'" width = "100" height = "100">'+
                '<ul>'+
                '<li>ID: '+user[i].id+'</li>'+
                '<li>Login: '+user[i].login+'</li>'+
                '</ul>'+
                '</div>';
            }

            document.getElementById('users').innerHTML = output;

        }
    }
    xhr.send();
}

</script>

</body>
</html>
